let User,CustomErrorHandler;_b7c‍.x([["default",()=>_b7c‍.o]]);_b7c‍.w("../models",[["User",["User"],function(v){User=v}]]);_b7c‍.w("../services/CustomErrorHandler",[["default",["CustomErrorHandler"],function(v){CustomErrorHandler=v}]]);


const admin =async(req,res,next)=>{
    try {
        const user=await User.findOne({_id:req.user._id});
        if(user.role ==="admin"){
            next()
        }
        else{
            return next(CustomErrorHandler.unAuthorized());
        }
    } catch (err) {
        return next(CustomErrorHandler.serverError());
    }
}

_b7c‍.d(admin);